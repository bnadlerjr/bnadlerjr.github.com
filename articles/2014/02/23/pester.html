<!doctype html>
<html>
  <head>
    <title>Bob Nadler, Jr | Pester</title>
    <meta charset="utf-8" />
    <meta name="robots" content="index, follow" />
    <meta name="rating" content="general" />
    <meta name="description" content="Sample program using Twilio and Harvest API's, along with the Ports and Adapters pattern." />
    <meta property="og:title" content="Pester" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://bobnadler.com/articles/2014/02/23/pester.html">
<meta property="og:image" content="http://bobnadler.com/images/articles/the-pesterer.jpg" />
<meta property="og:description" content="Sample program using Twilio and Harvest API's, along with the Ports and Adapters pattern." />

    <meta name="twitter:card" content="summary">
<meta name="twitter:url" content="http://bobnadler.com/articles/2014/02/23/pester.html">
<meta name="twitter:title" content="Pester">
<meta name="twitter:image" content="http://bobnadler.com/images/articles/the-pesterer.jpg">
<meta name="twitter:description" content="Sample program using Twilio and Harvest API's, along with the Ports and Adapters pattern.">

    <meta name="viewport" content="initial-scale=1.0, width=device-width">
    <link href="//fonts.googleapis.com/css?family=Lora|Istok+Web" rel="stylesheet" type="text/css">
    <link rel="author" href="https://plus.google.com/u/0/102659859857244557612">
    <link rel="icon" type="image/png" href="favicon.png">
    <link href="/stylesheets/styles-abb71870.css" rel="stylesheet" />
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39915750-1', 'bobnadler.com');
  ga('send', 'pageview');
</script>

  </head>
  <body>
    <div class="wrapper">
      <div class="content">
        <div class="mobile-header">
<a href="/">              <img src="/images/logo-efe9133a.png" alt="Logo" />
</a>            <ul>
              <li><a href="/about.html">about</a></li>
              <li><a href="/">articles</a></li>
              <li><a href="https://github.com/bnadlerjr">github</a></li>
              <li><a href="https://twitter.com/bnadlerjr">twitter</a></li>
              <li><a href="https://www.linkedin.com/in/bobnadlerjr">linkedin</a></li>
              <li><a href="/feed.xml">rss</a></li>
            </ul>
        </div>
        <header>
<a href="/">            <img src="/images/me-2e7bd69b.png" alt="Bob Nadler, Jr." />
            <img src="/images/logo-efe9133a.png" alt="Logo" />
</a>          <nav>
            <ul>
              <li><a href="/about.html">about</a></li>
              <li><a href="/">articles</a></li>
            </ul>
          </nav>
          <ul class="social">
            <li><a href="https://github.com/bnadlerjr" class="icon-github"></a></li>
            <li><a href="https://twitter.com/bnadlerjr" class="icon-twitter"></a></li>
            <li><a href="https://www.linkedin.com/in/bobnadlerjr" class="icon-linkedin"></a></li>
            <li><a href="/feed.xml" class="icon-rss"></a></li>
          </ul>
        </header>
        <main>
            <article>
    <div class="article-header">
      <h1>Pester</h1>
      <p class="article-date">February 23, 2014</p>
      <div class="social-button">
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="bnadlerjr" data-dnt="true">Tweet</a>
</div>
<div class="social-button">
  <div class="g-plus" data-action="share" data-annotation="bubble"></div>
</div>
<div class="social-button">
  <script type="IN/Share" data-counter="right"></script>
</div>
<div class="social-button">
  <a href="http://news.ycombinator.com/submit" class="hn-share-button" data-title="Pester" data-url="http://bobnadler.com//articles/2014/02/23/pester.html">Vote on HN</a>
</div>
<div class="social-button">
  <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
</div>

    </div>
    <figure class="article-image">
  <a href="http://www.flickr.com/photos/peterhess/5249242387/">
    <img src="/images/articles/the-pesterer-1cf3cefb.jpg" alt="The Pesterer" width="256" />
  </a>
  <figcaption>Image by <span>Peter Alfred Hess</span></figcaption>
</figure>

    <p>A few days ago a colleague and I were having a discussion. We work for <a href="http://www.cyrusinnovation.com">Cyrus</a>, an Agile consulting company. Another co-worker of ours is (among a myriad of other things) in charge of making sure our clients are billed correctly. As part of that job he needs to figure out which developers have not entered their hours into Harvest, our time-tracking software. He then needs to send out reminders to those of us that have forgotten to enter our hours.</p>

<p>My colleague had an idea to leverage the Harvest API and Twilio to create a tool that could automatically send out reminders to the developers. I thought it was an interesting idea that would give me a chance to play around with the Twilio API. I spent a couple of days working on it, and the result is <a href="http://github.com/bnadlerjr/pester">Pester</a>.</p>

<p>Pester is a command line script that will take a list of employees and their phone numbers from a text file, query Harvest and then send an SMS message to those that have less than 40 hours entered for the previous week. The intention is that this script could be set up as a cron task and run on a regular basis.</p>

<p>I organized the code using the <a href="http://alistair.cockburn.us/Hexagonal+architecture">Ports and Adapters</a> pattern. The employee file parsing, Harvest querying, and Twilio message sending are all implemented as adapters. This should allow other adapters to be swapped out without changing the core logic. For example, instead of a text file for employees, a database could be used instead.</p>

<p>I&#39;m not sure if others will find the tool useful or not, but hopefully it will serve as a good example of the Ports and Adapters pattern.</p>

  </article>
  <hr />
  <div class="social-button">
  <a href="https://twitter.com/share" class="twitter-share-button" data-via="bnadlerjr" data-dnt="true">Tweet</a>
</div>
<div class="social-button">
  <div class="g-plus" data-action="share" data-annotation="bubble"></div>
</div>
<div class="social-button">
  <script type="IN/Share" data-counter="right"></script>
</div>
<div class="social-button">
  <a href="http://news.ycombinator.com/submit" class="hn-share-button" data-title="Pester" data-url="http://bobnadler.com//articles/2014/02/23/pester.html">Vote on HN</a>
</div>
<div class="social-button">
  <script type="text/javascript" src="//www.redditstatic.com/button/button1.js"></script>
</div>

  <hr />
  <!-- Begin MailChimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/slim-081711.css" rel="stylesheet" type="text/css">
<style type="text/css">
  #mc_embed_signup{background:#fff; font:14px Helvetica,Arial,sans-serif;}
  #mc_embed_signup input.email{width:248px;}
  #mc_embed_signup input.button{width:250px;}
  #mc_embed_signup figure{float:left;}
  #mc_embed_signup figure figcaption{font-size: 0.5em;}
  #mc_embed_signup form{float:right;}
</style>
<div id="mc_embed_signup">
  <figure>
    <img src="/images/postage-660a86d2.jpg" alt="Email list" width="256px" />
    <figcaption>Image by <a href="https://flic.kr/p/5vyjNk">husin.sani</a></figcaption>
  </figure>
  <form action="//bobnadler.us9.list-manage.com/subscribe/post?u=1070de28e320073a93aa40ff4&amp;id=6066e08e4c" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
      <div id="mc_embed_signup_scroll">
        <label for="mce-EMAIL">Don't miss a post! Subscribe to my mailing list.</label>
        <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="email address" required>
        <div style="position: absolute; left: -5000px;"><input type="text" name="b_1070de28e320073a93aa40ff4_6066e08e4c" tabindex="-1" value=""></div>
        <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div>
        <p>No spam, ever. Unsubscribe at any time.</p>
  </form>
</div>
<div style="clear: both"></div>
<!--End mc_embed_signup-->

  <hr />
  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'bnadlerjr';
    var disqus_identifier = '7cb6180b-8bf3-4b79-923a-d651acc58546';
    var disqus_title = 'Pester';
    var disqus_url = 'http://bobnadler.com//articles/2014/02/23/pester.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


          <footer>
            <ul>
              <li><a href="/about.html">about</a></li>
              <li><a href="/">articles</a></li>
              <li><a href="https://github.com/bnadlerjr">github</a></li>
              <li><a href="https://twitter.com/bnadlerjr">twitter</a></li>
              <li><a href="https://www.linkedin.com/in/bobnadlerjr">linkedin</a></li>
              <li><a href="/feed.xml">rss</a></li>
            </ul>
            Copyright &copy; 2010-2018 <a href="/">Bob Nadler, Jr.</a>
          </footer>
        </main>
      </div>
    </div>
    <script type="text/javascript">(function(){var po=document.createElement('script');po.type='text/javascript';po.async=true;po.src='https://apis.google.com/js/platform.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(po,s);})();</script>
<script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script src="//hnbutton.appspot.com/static/hn.min.js" async defer></script>

  </body>
</html>
