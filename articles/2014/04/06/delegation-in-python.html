<!doctype html>
<html>
  <head>
    <title>Bob Nadler, Jr | Delegation in Python</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, follow" />
    <meta name="rating" content="general" />
    <meta name="description" content="Simple delegation in Python." />
    <meta property="og:title" content="Delegation in Python" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://bobnadler.com/articles/2014/04/06/delegation-in-python.html">
<meta property="og:image" content="http://bobnadler.com/images/articles/stormtrooper-stormshadow.jpg" />
<meta property="og:description" content="Simple delegation in Python." />

    <meta name="twitter:card" content="summary">
<meta name="twitter:url" content="http://bobnadler.com/articles/2014/04/06/delegation-in-python.html">
<meta name="twitter:title" content="Delegation in Python">
<meta name="twitter:image" content="http://bobnadler.com/images/articles/stormtrooper-stormshadow.jpg">
<meta name="twitter:description" content="Simple delegation in Python.">

    <link href="/favicon.png" rel="icon" type="image/png" />
    <script src="/javascripts/fontawesome.min-73bb8a63.js" defer="defer"></script>
    <link href="/stylesheets/github-ee593952.css" rel="stylesheet" />
    <link href="/stylesheets/styles-aa9a6b54.css" rel="stylesheet" />
      <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-39915750-1', 'bobnadler.com');
  ga('send', 'pageview');
</script>

      <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "g222s2a4kn");
</script>

  </head>
  <body>
    <header class="header text-center">
      <h1 class="blog-name pt-lg-4 mb-0">
<a href="/" class="no-text-decoration">          <img src="/images/BobNadlerLogoHiRes-f3ef50a1.png" class="img-fluid d-none d-lg-block" alt="Bob Nadler, Jr." />
          <span class="d-lg-none">Bob Nadler, Jr.</span>
</a>      </h1>
      <nav class="navbar navbar-expand-lg navbar-dark" >
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div id="navigation" class="collapse navbar-collapse flex-column" >
    <div class="profile-section pt-3 pt-lg-0">
      <img src="/images/me-circle-color-f4e5646d.png" alt="Bob Nadler, Jr." class="profile-image mb-3 rounded-circle mx-auto" />
    <div class="bio mb-3">
      Hi, my name is Bob Nadler. I'm a Senior Software Engineer with over 15 years of experience.
      <br>
      <a href="/about.html">Find out more about me</a>
    </div>
    <ul class="social-list list-inline py-3 mx-auto">
      <li class="list-inline-item"><a href="https://twitter.com/bnadlerjr"><i class="fab fa-twitter fa-fw"></i></a></li>
      <li class="list-inline-item"><a href="https://www.linkedin.com/in/bobnadlerjr" data-proofer-ignore><i class="fab fa-linkedin-in fa-fw"></i></a></li>
      <li class="list-inline-item"><a href="https://github.com/bnadlerjr"><i class="fab fa-github-alt fa-fw"></i></a></li>
      <li class="list-inline-item"><a href="https://stackoverflow.com/users/117430/bob-nadler"><i class="fab fa-stack-overflow fa-fw"></i></a></li>
      <li class="list-inline-item"><a href="/feed.xml"><i class="fas fa-rss fa-fw"></i></a></li>
    </ul>
    <hr>
    </div>

    <ul class="navbar-nav flex-column text-start">
      <li class="nav-item"><a href="/" class="nav-link"><i class="fas fa-fw me-2 fa-home"></i> Home</a></li>
      <li class="nav-item"><a href="/about.html" class="nav-link"><i class="fas fa-fw me-2 fa-user"></i> About Me</a></li>
    </ul>

    <div class="pt-2">
      <hr>
      <small class="copyright">Copyright &copy; 2010-2023 Bob Nadler, Jr.</small>
    </div>
  </div>
</nav>

    </header>

    <div class="main-wrapper">
        <article class="blog-post px-3 py-5 p-md-5">
    <div class="container single-col-max-width">
      <header class="blog-post-header">
        <h2 class="title mb-2">Delegation in Python</h2>
        <div class="meta mb-3">
          <span class="date">Published almost 9 years ago</span>
          <span class="time">1 min read</span>
        </div>
      </header>
      <div class="blog-post-body">
        <figure class="ms-3 figure float-end">
  <a href="https://www.flickr.com/photos/jdhancock/5310647747" >
    <img src="/images/articles/stormtrooper-stormshadow-b24d111e.jpg" alt="Shadow Stormtrooper vs. Storm Shadow" class="figure-img img-fluid" />
  </a>
  <figcaption class="figure-caption text-end text-muted">
    Image by <span class="text-uppercase">JD Hancock</span>
  </figcaption>
</figure>

        <p>At my current client, we use Python. The other day I needed to wrap a class from the requests library, specifically a <a href="https://github.com/kennethreitz/requests/blob/master/requests/models.py#L501">response</a> object. I wanted to add a couple of custom methods to the class and have the other methods delegate to the original object in a clean way. Here&#39;s a simplified version of what I came up with:</p>
<div class="highlight"><pre class="highlight plaintext"><code>class JSONResponse(object):
    """Wraps a requests.models.Response."""
    def __init__(self, response):
        self._response = response

    @property
    def content(self):
        """Assumes content is JSON and attempts to
        parse it. Raises an exception if it
        cannot be parsed.

        """
        # ... parse JSON in self._response.content

    def __getattr__(self, name):
        """Delegate any methods not defined in
        JSONResponse to underlying
        requests.models.Response.

        """
        return getattr(self._response, name)
</code></pre></div>
<p>The purpose of the wrapper class shown above is to cleanly handle HTTP responses that are encoded as JSON. The class defines a <code>content</code> property that attempts to parse the response content. Finally, the key to the pattern is the <code>__getattr__</code> method. Whenever a <code>JSONResponse</code> object is sent a message, it first checks to see if it can respond. In the case of the <code>content</code>, it will respond with the result of our custom property. If we send it any other message, it will attempt to send it to the wrapped response object. If the wrapped response cannot respond to the message, then it will fail as normal.</p>

        <hr>
        <div class="text-center">
  <h6 class="text-uppercase">Share This Article</h6>

  <ul class="share-list list-inline">
    <li class="list-inline-item">
<a href="https://twitter.com/intent/tweet?text=Delegation%20in%20Python&amp;url=http://bobnadler.com//articles/2014/04/06/delegation-in-python.html" target="_blank">        <i class="fab fa-twitter fa-fw fa-2x"></i>
</a>    </li>

    <li class="list-inline-item">
<a href="https://www.linkedin.com/sharing/share-offsite/?url=http://bobnadler.com//articles/2014/04/06/delegation-in-python.html" target="_blank">        <i class="fab fa-linkedin fa-fw fa-2x"></i>
</a>    </li>

    <li class="list-inline-item">
<a href="https://www.reddit.com/submit?title=Delegation%20in%20Python&amp;url=http://bobnadler.com//articles/2014/04/06/delegation-in-python.html" target="_blank">        <i class="fab fa-reddit fa-fw fa-2x"></i>
</a>    </li>

    <li class="list-inline-item">
<a href="https://news.ycombinator.com/submitlink?t=Delegation%20in%20Python&amp;u=http://bobnadler.com//articles/2014/04/06/delegation-in-python.html" target="_blank" data-proofer-ignore="true">        <i class="fab fa-hacker-news fa-fw fa-2x"></i>
</a>    </li>
  </ul>
</div>

      </div>
      <nav class="blog-nav nav nav-justified my-5">
        <a href="/articles/2014/04/01/gitscore-part-1.html" class="nav-link-prev nav-item nav-link rounded-start">Previous<i class="arrow-prev fas fa-long-arrow-alt-left"></i></a>
        <a href="/articles/2014/05/17/gitscore-parts-2-3.html" class="nav-link-next nav-item nav-link rounded-end">Next<i class="arrow-next fas fa-long-arrow-alt-right"></i></a>
      </nav>
      <div class="blog-comments-section">
        <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'bnadlerjr';
    var disqus_identifier = 'd07bd937-786e-4768-ab80-1f45be80b2e0';
    var disqus_title = 'Delegation in Python';
    var disqus_url = 'http://bobnadler.com//articles/2014/04/06/delegation-in-python.html';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

      </div>
    </div>
  </article>

      <footer class="footer text-center py-2 theme-bg-dark">
        <small class="copyright">Designed with <i class="fas fa-heart" style="color: #fb866a;"></i> by <a href="https://themes.3rdwavemedia.com" target="_blank">Xiaoying Riley</a> for developers</small>
      </footer>
    </div>

    <script src="/javascripts/popper.min-624be825.js"></script>
    <script src="/javascripts/bootstrap.min-3f094f01.js"></script>
    <script src="/javascripts/highlight.pack-c076d281.js"></script>
    <script src="/javascripts/blog-541e137f.js"></script>
  </body>
</html>
